{"mappings":"AAAA,IAAIA,GAAKC,OAAOC,SAASC,OAEFH,GAApBI,SAwDH,IAAMC,KAAO,CACXC,OAAQC,SAASC,cAAc,gCAC/BC,OAAQF,SAASC,cAAc,uBAejC,SAASE,WAAWC,GAClB,IACMC,EAAS,IAAIC,gBAAgB,CAAEC,KAAMH,IACrCI,EAAM,GAAcC,OAFV,+CAEO,KAAUA,OAAPJ,GAQ1B,OAAOK,MAAMF,EAPG,CACdG,QAAS,CACP,iBAAkB,qDAClB,kBAAmB,qCAIIC,MAAK,SAAAC,GAC9B,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAEZ,OAAOF,EAASG,M,IAIpB,SAASC,WAAWC,G,IAAEC,EAAFD,EAAEC,KAAMC,EAARF,EAAQG,UAAaD,SAAYE,EAAjCJ,EAAiCK,OAAUD,GACvDE,EAAS,6FASaf,OANfa,EAAG,mIAQRb,OAFoBW,EAAS,+CAExBX,OAALU,EAAK,+RAQbrB,KAAKI,OAAOuB,UAAYD,C,CAnD1B1B,KAAKC,OAAO2B,iBAAiB,UAAU,SAAAC,GACrCA,EAAMC,iBAENzB,WADiBwB,EAAME,OAAOC,SAASC,MAAMC,MAAMC,QAEhDrB,MAAK,SAAAL,GACJU,WAAWV,E,IAEZ2B,OAAM,SAAAC,GACLC,QAAQC,IAAIF,EAAIG,Q","sources":["src/index.js"],"sourcesContent":["let tg = window.Telegram.WebApp; //получаем объект webapp телеграма\n\ntg.expand(); //расширяем на все окно\n\n/* \ntg.MainButton.text = 'Changed Text'; //изменяем текст кнопки\ntg.MainButton.setText('Changed Text1'); //изменяем текст кнопки иначе\ntg.MainButton.textColor = '#F55353'; //изменяем цвет текста кнопки\ntg.MainButton.color = '#143F6B'; //изменяем цвет бэкграунда кнопки\ntg.MainButton.setParams({ color: '#143F6B' }); //так изменяются все параметры\n\nlet btn = document.getElementById('btn');\nbtn.addEventListener('click', function () {\n  //вешаем событие на нажатие html-кнопки\n  if (tg.MainButton.isVisible) {\n    //если кнопка показана\n    tg.MainButton.hide(); //скрываем кнопку\n  } else {\n    //иначе\n    tg.MainButton.show(); //показываем\n  }\n});\n\nlet btnED = document.getElementById('btnED'); //получаем кнопку активировать/деактивировать\nbtnED.addEventListener('click', function () {\n  //вешаем событие на нажатие html-кнопки\n  if (tg.MainButton.isActive) {\n    //если кнопка показана\n    tg.MainButton.setParams({ color: '#E0FFFF' }); //меняем цвет\n    tg.MainButton.disable(); //скрываем кнопку\n  } else {\n    //иначе\n    tg.MainButton.setParams({ color: '#143F6B' }); //меняем цвет\n    tg.MainButton.enable(); //показываем\n  }\n});\n\nTelegram.WebApp.onEvent('mainButtonClicked', function () {\n  tg.sendData('some string that we need to send');\n  //при клике на основную кнопку отправляем данные в строковом виде\n});\n\nlet usercard = document.getElementById('usercard'); //получаем блок usercard\n\nlet profName = document.createElement('p'); //создаем параграф\nprofName.innerText = `${tg.initDataUnsafe.user?.first_name}\n${tg.initDataUnsafe.user?.last_name}\n${tg.initDataUnsafe.user?.username} (${tg.initDataUnsafe.user?.language_code})`;\n//выдем имя, \"фамилию\", через тире username и код языка\nusercard.appendChild(profName); //добавляем\n\nlet userid = document.createElement('p'); //создаем еще параграф\nuserid.innerText = `${tg.initDataUnsafe.user?.id}`; //показываем user_id\nusercard.appendChild(userid); //добавляем\n */\n\n// =========================\n\nconst refs = {\n  formEl: document.querySelector('.js-search-form[data-id=\"1\"]'),\n  heroEl: document.querySelector('.js-hero-container'),\n};\n\nrefs.formEl.addEventListener('submit', event => {\n  event.preventDefault();\n  const heroName = event.target.elements.query.value.trim();\n  searchHero(heroName)\n    .then(hero => {\n      renderHero(hero);\n    })\n    .catch(err => {\n      console.log(err.message);\n    });\n});\n\nfunction searchHero(heroInfo) {\n  const baseUrl = 'https://superhero-search.p.rapidapi.com/api/';\n  const PARAMS = new URLSearchParams({ hero: heroInfo });\n  const url = `${baseUrl}?${PARAMS}`;\n  const options = {\n    headers: {\n      'X-RapidAPI-Key': '9b3ff61931msh1b42d77d34e33dap1c29cajsn3d3169e0e2f4',\n      'X-RapidAPI-Host': 'superhero-search.p.rapidapi.com',\n    },\n  };\n\n  return fetch(url, options).then(response => {\n    if (!response.ok) {\n      throw new Error();\n    }\n    return response.json();\n  });\n}\n\nfunction renderHero({ name, biography: { fullName }, images: { lg } }) {\n  const markup = `<div class=\"hero-card card\">\n    <div class=\"image-container\">\n      <img\n        src=\"${lg}\"\n        alt=\"#\"\n        class=\"hero-image\"\n      />\n    </div>\n    <div class=\"hero-body\">\n      <h4 class=\"hero-name\">${fullName}</h4>\n      <p class=\"hero-bio\">\n        ${name} - Lorem ipsum dolor sit amet consectetur, adipisicing elit. Vero, sed\n        facilis, necessitatibus at neque cum deserunt maxime quos laudantium\n        doloremque nesciunt ea voluptates! Atque fugiat assumenda incidunt\n        laborum quas a!\n      </p>\n    </div>\n  </div>`;\n\n  refs.heroEl.innerHTML = markup;\n}\n"],"names":["tg","window","Telegram","WebApp","expand","refs","formEl","document","querySelector","heroEl","searchHero","heroInfo","PARAMS","URLSearchParams","hero","url","concat","fetch","headers","then","response","ok","Error","json","renderHero","param","name","fullName","biography","lg","images","markup","innerHTML","addEventListener","event","preventDefault","target","elements","query","value","trim","catch","err","console","log","message"],"version":3,"file":"index.a5802b6f.js.map"}